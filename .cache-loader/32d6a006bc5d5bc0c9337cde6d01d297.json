{"remainingRequest":"/home/maha/mahaTinkoff/tinkoff-test1/node_modules/babel-loader/lib/index.js??ref--4-1!/home/maha/mahaTinkoff/tinkoff-test1/src/main-form/MainForm.js","dependencies":[{"path":"/home/maha/mahaTinkoff/tinkoff-test1/src/main-form/MainForm.js","mtime":1525202429440},{"path":"/home/maha/mahaTinkoff/tinkoff-test1/node_modules/cache-loader/dist/cjs.js","mtime":1524727190256},{"path":"/home/maha/mahaTinkoff/tinkoff-test1/node_modules/babel-loader/lib/index.js","mtime":1520329890000}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _class;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactCssModules = require('react-css-modules');\n\nvar _reactCssModules2 = _interopRequireDefault(_reactCssModules);\n\nvar _mainForm = require('./main-form.less');\n\nvar _mainForm2 = _interopRequireDefault(_mainForm);\n\nvar _OutputList = require('../output-list/OutputList');\n\nvar _OutputList2 = _interopRequireDefault(_OutputList);\n\nvar _LabelList = require('../label-list/LabelList');\n\nvar _LabelList2 = _interopRequireDefault(_LabelList);\n\nvar _InputList = require('../input-list/InputList');\n\nvar _InputList2 = _interopRequireDefault(_InputList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MainForm = (_dec = (0, _reactCssModules2.default)(_mainForm2.default), _dec(_class = function (_React$Component) {\n  _inherits(MainForm, _React$Component);\n\n  function MainForm(props) {\n    _classCallCheck(this, MainForm);\n\n    var _this = _possibleConstructorReturn(this, (MainForm.__proto__ || Object.getPrototypeOf(MainForm)).call(this, props));\n\n    _this.state = {\n      enablePurchase: false,\n      sum: '',\n      lotsNum: '',\n      fullPrice: {\n        value: '',\n        currnecy: ''\n      },\n      comission: {\n        value: '',\n        currnecy: ''\n      }\n    };\n\n    _this.handleOnValidInputData = _this.handleOnValidInputData.bind(_this);\n    _this.handleOnInValidInputData = _this.handleOnInValidInputData.bind(_this);\n    return _this;\n  }\n\n  _createClass(MainForm, [{\n    key: 'getFullPrice',\n    value: function getFullPrice(lotSize) {\n      return new Promise(function (resolve, reject) {\n        resolve({\n          fullPrice: {\n            value: Math.floor(Math.random() * (100000 - 1)) + 1,\n            currency: '₽'\n          },\n          comission: {\n            value: Math.floor(Math.random() * (100 - 1)) + 1,\n            currency: '₽'\n          }\n        });\n      });\n    }\n  }, {\n    key: 'handleOnInValidInputData',\n    value: function handleOnInValidInputData() {\n      this.setState(_extends({}, this.state, {\n        sum: '',\n        lotsNum: '',\n        enablePurchase: false\n      }));\n    }\n  }, {\n    key: 'handleOnValidInputData',\n    value: function handleOnValidInputData(sum, numLots) {\n      var _this2 = this;\n\n      this.getFullPrice(numLots).then(function (ans) {\n        return _this2.setState(_extends({}, _this2.state, {\n          sum: sum,\n          lotsNum: numLots,\n          enablePurchase: true,\n          fullPrice: ans.fullPrice,\n          comission: ans.comission\n        }));\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          lotPrice = _props.lotPrice,\n          currency = _props.currency,\n          lotAmount = _props.lotAmount;\n      var _state = this.state,\n          enablePurchase = _state.enablePurchase,\n          sum = _state.sum,\n          lotsNum = _state.lotsNum,\n          fullPrice = _state.fullPrice,\n          comission = _state.comission;\n\n\n      return _react2.default.createElement(\n        'div',\n        { styleName: 'main-container' },\n        _react2.default.createElement(\n          'form',\n          { styleName: 'main-form' },\n          _react2.default.createElement(_LabelList2.default, { lotPrice: lotPrice,\n            currency: currency,\n            lotAmount: lotAmount }),\n          _react2.default.createElement(_InputList2.default, { currency: currency,\n            lotAmount: lotAmount,\n            lotPrice: lotPrice,\n            sum: sum,\n            lotsNum: lotsNum,\n            handleOnInValidInputData: this.handleOnInValidInputData,\n            handleOnValidInputData: this.handleOnValidInputData }),\n          _react2.default.createElement(_OutputList2.default, { enablePurchase: enablePurchase,\n            comission: comission,\n            fullPrice: fullPrice })\n        )\n      );\n    }\n  }]);\n\n  return MainForm;\n}(_react2.default.Component)) || _class);\nexports.default = MainForm;\n;",{"version":3,"sources":["src/main-form/MainForm.js"],"names":["MainForm","props","state","enablePurchase","sum","lotsNum","fullPrice","value","currnecy","comission","handleOnValidInputData","bind","handleOnInValidInputData","lotSize","Promise","resolve","reject","Math","floor","random","currency","setState","numLots","getFullPrice","then","ans","lotPrice","lotAmount","Component"],"mappings":";;;;;;;;;;;;;AAAA;;;;AACA;;;;AAEA;;;;AAEA;;;;AACA;;;;AACA;;;;;;;;;;;;IAGqBA,Q,WADpB,kD;;;AAEC,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA,oHACXA,KADW;;AAEjB,UAAKC,KAAL,GAAa;AACXC,sBAAgB,KADL;AAEXC,WAAK,EAFM;AAGXC,eAAS,EAHE;AAIXC,iBAAW;AACTC,eAAO,EADE;AAETC,kBAAU;AAFD,OAJA;AAQXC,iBAAW;AACTF,eAAO,EADE;AAETC,kBAAU;AAFD;AARA,KAAb;;AAcA,UAAKE,sBAAL,GAA8B,MAAKA,sBAAL,CAA4BC,IAA5B,OAA9B;AACA,UAAKC,wBAAL,GAAgC,MAAKA,wBAAL,CAA8BD,IAA9B,OAAhC;AAjBiB;AAkBlB;;;;iCAEYE,O,EAAS;AACpB,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCD,gBAAQ;AACNT,qBAAW;AACTC,mBAAOU,KAAKC,KAAL,CAAWD,KAAKE,MAAL,MAAiB,SAAS,CAA1B,CAAX,IAA2C,CADzC;AAETC,sBAAU;AAFD,WADL;AAKNX,qBAAW;AACTF,mBAAOU,KAAKC,KAAL,CAAWD,KAAKE,MAAL,MAAiB,MAAM,CAAvB,CAAX,IAAwC,CADtC;AAETC,sBAAU;AAFD;AALL,SAAR;AAUD,OAXM,CAAP;AAYD;;;+CAE0B;AACzB,WAAKC,QAAL,cACK,KAAKnB,KADV;AAEEE,aAAK,EAFP;AAGEC,iBAAS,EAHX;AAIEF,wBAAgB;AAJlB;AAMD;;;2CAEsBC,G,EAAKkB,O,EAAS;AAAA;;AACnC,WAAKC,YAAL,CAAkBD,OAAlB,EACGE,IADH,CAEI;AAAA,eACE,OAAKH,QAAL,cACK,OAAKnB,KADV;AAEEE,eAAKA,GAFP;AAGEC,mBAASiB,OAHX;AAIEnB,0BAAgB,IAJlB;AAKEG,qBAAWmB,IAAInB,SALjB;AAMEG,qBAAWgB,IAAIhB;AANjB,WADF;AAAA,OAFJ;AAYD;;;6BAES;AAAA,mBACkC,KAAKR,KADvC;AAAA,UACAyB,QADA,UACAA,QADA;AAAA,UACUN,QADV,UACUA,QADV;AAAA,UACoBO,SADpB,UACoBA,SADpB;AAAA,mBAEuD,KAAKzB,KAF5D;AAAA,UAEAC,cAFA,UAEAA,cAFA;AAAA,UAEgBC,GAFhB,UAEgBA,GAFhB;AAAA,UAEqBC,OAFrB,UAEqBA,OAFrB;AAAA,UAE8BC,SAF9B,UAE8BA,SAF9B;AAAA,UAEyCG,SAFzC,UAEyCA,SAFzC;;;AAIR,aACE;AAAA;AAAA,UAAK,WAAU,gBAAf;AACE;AAAA;AAAA,YAAM,WAAU,WAAhB;AACE,+DAAW,UAAUiB,QAArB;AACW,sBAAUN,QADrB;AAEW,uBAAWO,SAFtB,GADF;AAIE,+DAAW,UAAUP,QAArB;AACW,uBAAWO,SADtB;AAEW,sBAAUD,QAFrB;AAGW,iBAAKtB,GAHhB;AAIW,qBAASC,OAJpB;AAKW,sCAA0B,KAAKO,wBAL1C;AAMW,oCAAwB,KAAKF,sBANxC,GAJF;AAWE,gEAAY,gBAAgBP,cAA5B;AACY,uBAAWM,SADvB;AAEY,uBAAWH,SAFvB;AAXF;AADF,OADF;AAmBD;;;;EAnFmC,gBAAMsB,S;kBAAvB5B,Q;AAoFpB","file":"MainForm.js","sourceRoot":"/home/maha/mahaTinkoff/tinkoff-test1","sourcesContent":["import React from 'react';\nimport CSSModules from 'react-css-modules';\n\nimport styles from './main-form.less';\n\nimport OutputList from \"../output-list/OutputList\";\nimport LabelList from \"../label-list/LabelList\";\nimport InputList from \"../input-list/InputList\";\n\n@CSSModules(styles)\nexport default class MainForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      enablePurchase: false,\n      sum: '',\n      lotsNum: '',\n      fullPrice: {\n        value: '',\n        currnecy: ''\n      },\n      comission: {\n        value: '',\n        currnecy: ''\n      }\n    };\n\n    this.handleOnValidInputData = this.handleOnValidInputData.bind(this);\n    this.handleOnInValidInputData = this.handleOnInValidInputData.bind(this);\n  }\n\n  getFullPrice(lotSize) {\n    return new Promise((resolve, reject) => {\n      resolve({\n        fullPrice: {\n          value: Math.floor(Math.random() * (100000 - 1)) + 1,\n          currency: '₽'\n        },\n        comission: {\n          value: Math.floor(Math.random() * (100 - 1)) + 1,\n          currency: '₽'\n        },\n      })\n    })\n  }\n\n  handleOnInValidInputData() {\n    this.setState({\n      ...this.state,\n      sum: '',\n      lotsNum: '',\n      enablePurchase: false\n    })\n  }\n\n  handleOnValidInputData(sum, numLots) {\n    this.getFullPrice(numLots)\n      .then(\n        ans =>\n          this.setState({\n            ...this.state,\n            sum: sum,\n            lotsNum: numLots,\n            enablePurchase: true,\n            fullPrice: ans.fullPrice,\n            comission: ans.comission\n          })\n      )\n  }\n\n  render () {\n    const { lotPrice, currency, lotAmount } = this.props;\n    const { enablePurchase, sum, lotsNum, fullPrice, comission } = this.state;\n\n    return(\n      <div styleName=\"main-container\">\n        <form styleName=\"main-form\">\n          <LabelList lotPrice={lotPrice}\n                     currency={currency}\n                     lotAmount={lotAmount}/>\n          <InputList currency={currency}\n                     lotAmount={lotAmount}\n                     lotPrice={lotPrice}\n                     sum={sum}\n                     lotsNum={lotsNum}\n                     handleOnInValidInputData={this.handleOnInValidInputData}\n                     handleOnValidInputData={this.handleOnValidInputData}/>\n          <OutputList enablePurchase={enablePurchase}\n                      comission={comission}\n                      fullPrice={fullPrice}/>\n        </form>\n      </div>\n    )\n  };\n};\n"]}]}